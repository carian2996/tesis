En el presente capítulo estudiamos las propiedades y resultados principales de tiempos de paro y martingalas a tiempo continuo. Muchos de los resultados se han sido vistos en el Capítulo 1, sin embargo, es necesario presentar nuevos conceptos para poder analizar los procesos estocásticos a tiempo continuo. Las herramientas que se presentan en este capítulo serán las necesarias para poder resolver el Problema de Paro Óptimo a tiempo continuo. \\

En principio, se presentan nuevos conceptos referentes a los procesos estocásticos a tiempo continuo, para después analizar los tiempos de paro y las martingalas. Al final del capítulo se dan algunas aplicaciones de las propiedades de martingalas para el movimiento Browniano. 

\section{Conceptos fundamentales}

\begin{definition}
	Considere un espacio de probabilidad $(\Omega, \mathcal{F}, \mathbb{P})$. Una filtración a tiempo continuo es una familia de sub-$\sigma$-álgebras $(\mathcal{F}_t)_{t \geq 0}$ cada una perteneciente a $\mathcal{F}$, de tal manera que $\mathcal{F}_s \subset \mathcal{F}_t$ si y solo si $s \leq t$. Al sistema $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$ se le conoce como espacio de probabilidad filtrado.
\end{definition}

Recordemos que la filtración canónica asociada al proceso estocástico $X = (X_t, t \geq 0)$ está definida como $\mathcal{F}_t = \sigma(X_s : s \leq t)$. Definamos los siguientes conceptos.

\begin{align*}
	\mathcal{F}_{t^{-}} = \sigma \left( \bigcup_{s < t} \mathcal{F}_s \right), \hspace{0.3cm} \mathcal{F}_{t^{+}} = \bigcap_{s > t} \mathcal{F}_s, \hspace{0.3cm} \text{ para toda } t \geq 0.
\end{align*}

De las definiciones anteriores es claro ver que $\mathcal{F}_{t^{-}} \subset \mathcal{F}_t \subset \mathcal{F}_{t^{+}}$. \\

Como se ha visto hasta el momento, el concepto de medibilidad, resulta claro cuando se fija una tiempo $t$, entonces se dice que $X_t$ es una función $\mathcal{F}$-medible, sin embargo, hemos observado que un proceso estocástico continuo depende de dos variables $(t, \omega)$, por lo que; si el evento $\omega$ es fijo, se contamos con ninguna propiedad que pueda decirnos si las trayectorias del proceso son medibles. Para ello, es conveniente contar con alguna característica de medibilidad conjunta. \\

\begin{definition}
	Un proceso estocástico $X = (X_t, t \geq 0)$ con espacio de estados $(E, \mathcal{E})$ se dice medible, si para toda $A \in \mathcal{E}$, el conjunto
	\begin{align*}
	\{ (t, \omega) : X_t (\omega) \in A \},
	\end{align*}
	Pertenece a la $\sigma$-álgebra producto $\mathcal{B} [0, \infty)] \times \mathcal{F}$, es decir,
	\begin{align*}
	(t, \omega) \rightarrow X_t(\omega) : ([0, \infty) \times \Omega, \ \mathcal{B}(0, \infty) \times \mathcal{F} ) \rightarrow (E, \mathcal{E}).
	\end{align*}
\end{definition}

Del Teorema de Fubuni sabemos que \\

Aquí va el Teorema de Tonell-Fubini. \\

En consecuencia, sabemos que las trayectorias de un proceso medible, son funciones $\mathcal{B}[0, \infty)$-medibles. El hecho de introducir un concepto de filtración continua, nos permitirá definir conceptos más interesantes y útiles que el de proceso medible.

\begin{definition}
	Considere un espacio de probabilidad filtrado  $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$ y un proceso estocástico $(X_t, t \geq 0)$ definido en  $(\Omega, \mathcal{F}, \mathbb{P})$. Se dice que el proceso es adaptado a la filtración $(\mathcal{F}_t)_{t \geq 0}$ si para toda $t \geq 0$ la variable aleatoria $X_t$ es $\mathcal{F}_t$-medible.
\end{definition}

La siguiente definición es fundamental para el estudios de los procesos a tiempo continuo.

\begin{definition}[Proceso Progresivo]
	Sea $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$ un espacio de probabilidad filtrado y sea $(X_t, t geq 0)$ un proceso estocástico definido en $(\Omega, \mathcal{F}, \mathbb{P})$, con un espacio de estados $(E, \mathcal{E})$. Decimos que el proceso es progresivamente medible, o simplemente, progresivo, si para toda $t \geq 0$
	\begin{align*}
		[0, t] \times \Omega \rightarrow E \\
		(s, \omega) \rightarrow X_s (\omega).
	\end{align*}
	es $\mathcal{B}[0, t] \times \mathcal{F}_t$-medible.
\end{definition}

De las definiciones anteriores podemos afirmar que todo proceso aleatorio es adaptado a su filtración canónica y de la misma manera, decir que un proceso progresivamente medible es siempre adaptado. Sin embargo, en general no se puede suponer cierto que un proceso adaptado es un proceso progresivo, a menos que este sea continuo por la derecha o por la izquierda, como se verá en el siguiente teorema. \\

\begin{theorem}
	Sea $(X = X_t, t \geq 0)$ un proceso estocástico con valores en un espacio métrico $(E, \mathcal{E})$, adaptado a la filtración $(\mathcal{F}_t)_{t \geq 0}$ y continuo por la derecha (o por la izquierda), entonces $X$ es progresivo.
\end{theorem}
\begin{proof}
	Demostraremos el caso en que $X$ es continuo por la derecha, pues cuando es continuo por la izquierda, se realiza una prueba similiar. Para verificar que un proceso es progresivo basta ver que para cada conjunto $A \in \mathcal{B}(E)$
	\begin{align}
	\{ (s, \omega) \in [0, t] \times \Omega : X_s(\omega) \in A \} \in \mathcal{B}[0, t] \times \mathcal{F}_t, \label{progre}
	\end{align}
	Si definimos al proceso continuo en función de un proceso discreto podremos verificar la condición deseada y por la continuidad de $X$, lograremos probar la afirmación. Consideremos entonces para cada $n \geq 1$, $k \in \{ 0, 1, \ldots, 2^n - 1 \}$ y $s \in [0, t]$ el siguiente proceso
	\begin{align*}
	X_s^n (\omega) = 
	\begin{cases}
	X_{\frac{(k+1)t}{2^n}} (\omega), & \text{ si } \frac{kt}{2^n} < s \leq \frac{(k+1)t}{2^n}; \\
	X_0 (\omega), & \text{ si } s = 0.
	\end{cases}
	\end{align*}
	De la continuidad de $X$ sabemos que $\lim_{n \rightarrow \infty} X_s^n (\omega) = X_s (\omega)$ para toda $(s, \omega) \in [0, t] \times \Omega$. \\
	
	Por último, veamos que (\ref{progre}) se cumple para $X_s^n$, al conjunto
	\begin{align*}
	\{ (s, \omega) \in [0, t] \times \Omega : X_s(\omega) \in A \},
	\end{align*}
	lo podemos escribir de tal manera que cada uno de sus elementos pertenezca a $\mathcal{B}[0, t] \times \mathcal{F}_t$, por ejemplo
	\begin{align*}
	\bigcup_{k = 0}^{2^n - 1} \left\{ \left( \frac{kt}{2^n}, \frac{(k+1)t}{2^n} \right] \times \left\{ X_{\frac{(k+1)t}{2^n} \in A} \right\}  \right\} \bigcup\left\{ \{0\} \times \{X_0(\omega) \in A\} \right\}.
	\end{align*}
	Del argumento anterior podemos afirmar que $X$ es un proceso progresivo.
\end{proof}

El siguiente concepto será la base para la definición de una $\sigma$-álgebra ligada a los proceso progresivamente medibles, además de ser un concepto útil en el trabajo posterior.

\begin{definition}
	Se dice que un conjunto $A \subset \mathbb{R}_{+} \times \Omega$ es progresivamente medible si el proceso asociado a $A$
	\begin{align*}
	X_t(\omega) = 1_A (t, \omega) =
	\begin{cases}
	1, & \text{ si } (t, \omega) \in A; \\
	0, & \text{ si } (t, \omega) \notin A
	\end{cases}
	\end{align*}
	es progresivamente medible.
\end{definition}

\begin{proposition}
	La familia de conjuntos progresivamente medibles forma un $\sigma$-álgebra conocida como $\sigma$-álgebra progresiva.
\end{proposition}
\begin{proof}
	Aquí va la demostración que no he terminado.
\end{proof}

La siguiente proposición muestra la relación entre la $\sigma$-álgebra progresiva y los procesos progresivamente medibles.

\begin{proposition}
	Sea $(X_t, t \geq 0)$ un proceso estocástico definido en $(\Omega, \mathcal{F}, \mathbb{P})$, con un espacio de estados $(E, \mathcal{E})$. El proceso $X$ es progresivamente medible si y solo si $(t, \omega) \rightarrow X_t(\omega)$ es medible con respecto a la $\sigma$-álgebra progresiva.
\end{proposition}
\begin{proof}
	Aquí va otra demostración que no he entendido gracias a la medibilidad con respecto a la $\sigma$-álgebra progresiva.
\end{proof}

Antes de entrar de lleno al estudio de los tiempos de paro a tiempo continuo, consideremos las siguientes definiciones.
\begin{definition}
	Una filtración $(\mathcal{F}_t)_{t \geq 0}$ se llama continua por la derecha si $\mathcal{F}_t = \mathcal{F}_{t^{+}} = \cap_{s > t} \mathcal{F}_s$, para toda $t \geq 0$.
\end{definition}

Consideremos a la filtración $(\mathcal{F}_{t^{+}})_{t \geq 0}$ y veamos que es continua por la derecha. Para facilitar el argumento, renombremos a $\mathcal{F}_{t_{+}}$ por $\mathcal{G}_t$, por lo que tenemos, por definición que $\mathcal{G}_t \subseteq \mathcal{G}_{t^{+}}$, más aún
	\begin{align*}
	\mathcal{G}_{t^{+}} = \bigcap_{s < t} \mathcal{G}_s = \bigcap_{s < t} \mathcal{F}_{s^{+}} = \bigcap_{s < t}  \left( \bigcap_{u < s} \mathcal{F}_u \right) \subseteq \bigcap_{s < t} \mathcal{F}_s = \mathcal{F}_{t^{+}} = \mathcal{G}_t
	\end{align*}
Por lo que $\mathcal{G}_t  = \mathcal{G}_{t^{+}}$, lo que quiere decir, que la filtración $(\mathcal{F}_{t_{+}})_{t \geq 0}$ es continua por la derecha. \\

\begin{definition}
	Sea $(\mathcal{F}_t )_{t \geq 0}$ una filtración. Si $\mathcal{F}_0$ contiene a todos los conjuntos $\mathbb{P}$-nulos entonces decimos que es una filtración completa.
\end{definition}

\begin{definition}
	Decimos que la filtración $(\mathcal{F}_t )_{t \geq 0}$ Cumple con las condiciones habituales si es continua por la derecha y es completa.
\end{definition}

\section{Tiempos de paro a tiempo continuo}
En esta sección introduciremos la noción de un tiempo de paro, pero esta vez a tiempo continuo.Las propiedades de los tiempos de paro discretos son similares a las que a continuación veremos, pero aún así es conveniente realizar definiciones detalladas de los conceptos.

\begin{definition}
	En un espacio de probabilidad filtrado $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$, una función $\tau : \Omega \rightarrow [0, \infty]$ se llama tiempo de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$ si
	\begin{enumerate}
		\item $\tau$ es $\mathcal{F}_{\infty}$-medible.
		\item El conjunto $\{ \tau \leq t \}$ pertenece a $\mathcal{F}_t$, para toda $t \geq 0$.
	\end{enumerate}
\end{definition}

Resulta claro ver que, si $\tau$ es una función constante, entonces es un tiempo de paro. Si consideramos a $k$, una constante positiva, y además $t \in [0, k)$, el conjunto $\{\tau + k \leq t\} = \emptyset$ el cual esta en $\mathcal{F}_t$, por otro lado, si $t \in [k, \infty)$ entonces
\begin{align*}
\{ \tau + k \leq t \} = \{ \tau \leq t - k \} \in \mathcal{F}_{t-k} \subseteq \mathcal{F}_{t}.
\end{align*}
Lo cual implica que $\tau + k$ es un tiempo de paro.

\begin{proposition}
	\label{paroequivalente}
	Si la filtración $(\mathcal{F}_t)_{t \geq 0}$ es continua por la derecha, entonces $\tau$ es un tiempo de paro si y solo si $\{\tau < t\}$ pertenece a $\mathcal{F}_t$, para toda $t \geq 0$.
\end{proposition}
\begin{proof}
	Suponiendo que $\tau$ es un tiempo de paro. para un tiempo fijo $s < t$ se tiene
	\begin{align*}
	\{ \tau \leq s \} \in \mathcal{F}_s,
	\end{align*}
	Pero como, $\mathcal{F}_t$ es filtración, entonces para toda $t \geq 0$ se tiene que $\mathcal{F}_s \subset \mathcal{F}_t$, por lo tanto, $\{ \tau \leq s \} \in \mathcal{F}_t$. Entonces 
	\begin{align*}
	\{ \tau < t \} = \bigcup_{s < t} \{ \tau \leq s \} \in \mathcal{F}_t, \hspace{0.3cm} \text{ para } t \geq 0.
	\end{align*}
	
	Por otra parte, si suponemos que $\{ \tau < t \} \in \mathcal{F}_t$, para toda $t \geq 0$, podemos ver que 
	\begin{align*}
	\{\tau \leq t \} = \bigcap_{s > t} \{\tau > s\} \in \mathcal{F}_{t^{+}}.
	\end{align*}
	Como $(\mathcal{F}_t)_{t \geq 0}$ es un filtración continua por la derecha sabemos que $\mathcal{F}_{t^{+}} = \mathcal{F}_t$. Se tiene entonces que $\tau$ es un tiempo de paro.
\end{proof}

La siguiente definición nos será útil al analizar cuando un proceso aleatorio entra por primera vez en un conjunto. 
\begin{definition}
	Se define al tiempo de entrada del proceso $(X_t, t \geq 0)$ al conjunto $A$, como
	\begin{align*}
	\tau_A (\omega) = 
	\begin{cases}
	\inf \{ t \geq 0 : X_t (\omega) \in A \}, & \text{ si } \{ t \geq 0 : X_t (\omega) \in A \} \neq \emptyset, \\
	\infty, & \text{ si } \{ t \geq 0 : X_t (\omega) \in A \} = \emptyset.
	\end{cases}
	\end{align*}
\end{definition}

Veamos ahora que, bajo ciertas condiciones dadas a la filtración, al proceso y al conjunto, el tiempo de entrada es un tiempo de paro.
\begin{proposition}
	Sea $X = (X_t, t \geq 0)$ un proceso estocástico adaptado a la filtración $(\mathcal{F}_t)_{t \geq 0}$, y con un espacio de estados $(E, \mathcal{B}(E))$, donde $E$ es un espacio métrico y sea $A \in\mathcal{B}(E)$.
	\begin{enumerate}
		\item Si $X$ es continuo por la derecha, $(\mathcal{F}_t)_{t \geq 0}$ es continua por la derecha y $A$ es un conjunto abierto, entonces $\tau_A$ es un tiempo de paro con respecto a $(\mathcal{F}_t)_{t \geq 0}$.
		\item Si $X$ es continuo y $A$ es un conjunto cerrado, entonces $\tau_A$ es un tiempo de paro con respecto a $(\mathcal{F}_t)_{t \geq 0}$.
	\end{enumerate}
\end{proposition}
\begin{proof}
	Consideremos los elementos $\omega \in \Omega_0$ tales que, la trayectoria del proceso $X$ es continua por la derecha, con $\mathbb{P}(\Omega-0) = 1$. Sea
	\begin{align*}
	C_t : = \bigcup_{s \in \mathbb{Q}_{+}} \left\lbrace X_s \in A : s < t \right\rbrace \hspace{0.3cm} \text{ para } t \geq 0 \text{ fija}, 
	\end{align*}
	donde $A$ s un conjunto abierto de $\mathcal{B}(E)$. Como $X$ es adaptado a $(\mathcal{F}_t)_{t \geq 0}$ tenemos que $X_t$ es $\mathcal{F}_t$-medible para toda $t \geq 0$, es decir, para cualquier $A \in \mathcal{B}(E)$
	\begin{align*}
	\{ \omega \in \Omega \mid X_t (\omega) \in A \} \in \mathcal{F}_t,
	\end{align*}
	por lo que $C_t \in \mathcal{F}_t$. Ya que la filtración es continua por la derecha y de la Proposición \ref{paroequivalente}, basta demostrar que $\{\tau_A < t\} = C_t$ para probar que $\tau_A$ es un tiempo de paro. \\
	
	Veamos que se cumplen las siguientes condiciones. Por un lado, si $\omega \in C_t$, de la definición misma de $C_t$ sabemos que existe $s \in \mathbb{Q}_{+}$ con $s < t$, tal que $X_s(\omega) \in A$. Por lo que, $\tau_A = \inf \{ t \geq 0 : X_t (\omega) \in A \} \leq s < t$, es decir, $\omega in \{\tau_A < t\}$. Por otro lado, si $\omega \in \{\tau_A < t\}$, entonces existe un tiempo $t_0 < t$ tal que $X_{t_0} (\omega) \in A$. 
	
	Como el proceso es continuo por la derecha y $A$ es abierto, existe $\epsilon > 0$ tal que
	\begin{align*}
	s \in \mathbb{Q}\cap [t_0, t_0 + \epsilon) \text{ y } X_s(\omega) \in A.
	\end{align*}
	De ambos argumentos, tenemos que 
	\begin{align*}
	\{ \tau_A < t \} = C_t \in \mathcal{F}_t.
	\end{align*}
	Lo que significa que, $\tau_A$ es un tiempo de paro respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$.
\end{proof}

\begin{definition}
	Sea $\tau$ un tiempo de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$. La $\sigma$-álgebra de eventos anteriores a $\tau$ está dada por 
	\begin{align*}
	\mathcal{F}_{\tau} = \left\{ A \in \mathcal{F}_{\infty} : \forall t \in \mathbb{R}_{+}, \ A \cap \{\tau \leq t\} \in \mathcal{F}_t \right\}.
	\end{align*}
\end{definition}
La prueba de que efectivamente, $\mathcal{F}_{\tau}$ es una $\sigma$-álgebra es análoga a la Proposición \ref{algebraaleatoria} del Capítulo 1. Veamos el siguiente resultado, relacionado a la $\sigma$-álgebra parada definida arriba.
\begin{proposition}
	Considere las siguientes definiciones
	\begin{align*}
		\mathcal{F}_{\tau^{+}} & = \left\{ A \in \mathcal{F}_{\infty} : \forall t \in \mathbb{R}_{+}, \ A \cap \{\tau < t\} \in \mathcal{F}_t \right\}, \\
		\mathcal{F}_{\tau^{-}} & = \sigma \left\{ A \cap \{\tau > t\} : t \geq 0, \ A \in \mathcal{F}_t \right\}.
	\end{align*}
	Entonces, 
	\begin{enumerate}
		\item $\mathcal{F}_{\tau^{+}}$ es una $\sigma$-álgebra.
		\item $\mathcal{F}_{\tau^{-}} \subset \mathcal{F}_{\tau} \subset \mathcal{F}_{\tau^{+}}$.
		\item Si $(\mathcal{F}_t)_{t \geq 0}$ es continua por la derecha, entonces $\mathcal{F}_{\tau} = \mathcal{F}_{\tau^{+}}$.
		\item Si $\tau = t$, entonces $\mathcal{F}_{\tau} = \mathcal{F}_t$ y $\mathcal{F}_{\tau^{+}} = \mathcal{F}_{t^{+}}$.
	\end{enumerate}
	\end{proposition}
\begin{proof}
1. Consideremos el conjunto $\Omega$ como la familia de conjuntos que pertenecen a $\mathcal{F}_{\tau^{+}}$. 

% Para ver que $\Omega$ es un elemento de $\mathcal{F}_{t^{+}}$ probemos que $\Omega \in \mathcal{F}_{\infty}$ y además, para todo $t \geq 0$ el conjunto $\Omega \cap \{ \tau < t \}$ pertenece a $\mathcal{F}_t$. \\

Como $\Omega$ está formado por conjuntos de $\mathcal{F}_{t^{+}}$, sabemos que cada uno de ellos pertenece a $\mathcal{F}_{\infty}$, por lo que $\Omega \in \mathcal{F}_{\infty}$. Además sabemos que cada uno de los conjuntos $A$ de $\Omega$ cumple para toda $t \geq 0$ que $A \cap \{\tau < t\} \in \mathcal{F}_t$, por lo que $\Omega \cap \{\tau < t\} \in \mathcal{F}_t$, de ambas condiciones, tenemos que $\Omega \in \mathcal{F}_{\tau^{+}}$. \\

Si $A \in \mathcal{F}_{\tau^{+}}$, tenemos que comprobar que el complemento de $A$ es un elemento de $\mathcal{F}_{\tau^{+}}$. Sabemos que $A \in \mathcal{F}_{\infty}$, entonces $A^{c} \in \mathcal{F}_{\infty}$ al ser una $\sigma$-álgebra. Además, tenemos que $A \cap \{ \tau < t \} \in \mathcal{F}_t$ para toda $t \geq 0$, es decir, $A \in \mathcal{F}_t$, por lo que $A^{c} \in \mathcal{F}_t$ al ser $\sigma$-álgebra. Entonces $A^{c} \cap \{\tau < t\} \in \mathcal{F}_t$. De ambas condiciones, sabemos que $A^{c} \in \mathcal{F}_{\tau^{+}}$. \\

Si $A_1, A_2, \ldots \in \mathcal{F}_{\tau^{+}}$, veamos que $\cup A_n \in \mathcal{F}_{\tau^{+}}$. Sabemos que si, $A_1, A_2, \ldots \in \mathcal{F}_{\tau^{+}}$ entonces cada $A_n \in \mathcal{F}_{\infty}$ para $n \geq 1$, por lo tanto $\cup A_n \in \mathcal{F}_{\infty}$.

Si $A_1, A_2, \ldots \in \mathcal{F}_{\tau^{+}}$, tenemos que para toda $n \geq 1$ y $t \geq 0$ se tiene que 
\begin{align*}
	A_1 \cap \{\tau < t\} \in \mathcal{F}_t, \hspace{0.3cm} A_2 \cap \{\tau < t\} \in \mathcal{F}_t, \ldots
\end{align*}
Entonces, para toda $t \geq 0$
\begin{align*}
	\left( \bigcup_{n \geq 1} A_n \right) \cap \{\tau < t\} = \bigcup_{n \geq 1} \left( A_n \cap \{\tau < t\} \right) \in \mathcal{F}_t.
\end{align*}
Se tiene entonces que $\cup A_n \in \mathcal{F}_{\tau^{+}}$. \\

2. Falta la parte en que pruebo que $\mathcal{F}_{\tau^{-}} \subset \mathcal{F}_{\tau}$. \\

Si $A \in \mathcal{F}_{\tau}$, entonces $A \in \mathcal{F}_{\infty}$, además de que, para toda $t \geq 0$ se tiene $A \cap \{ \tau \leq t \} \in \mathcal{F}_t$, en particular, para todo $t \geq 0$ el conjunto $A \cap \{ \tau < t \}$ pertenece a $\mathcal{F}_t$, es decir, $A \in \mathcal{F}_{\tau^{+}}$, por lo tanto, $\mathcal{F}_{\tau} \subset \mathcal{F}_{\tau^{+}}$. \\

3. De la parte anterior sabemos que $\mathcal{F}_{\tau} \subset \mathcal{F}_{\tau^{+}}$. Por lo que, suponiendo que $(\mathcal{F}_t)_{t \geq 0}$ es continua por la derecha basta demostrar que $\mathcal{F}_{\tau^{+}} \subset \mathcal{F}_{\tau}$ para comprobar que $\mathcal{F}_{\tau} = \mathcal{F}_{\tau^{+}}$. \\

4. Falta la cuarta demostración.
\end{proof}

\begin{proposition}
	Sea $\tau$ un tiempo de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$. Si consideramos un conjunto $A$ que pertenece a $\mathcal{F}{\infty}$ y definimos $\gamma = \tau 1_A + \infty 1_{A^{c}}$. Entonces, $\gamma$ es un tiempo de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$.
\end{proposition}

A continuación, se muestran pequeños resultados que nos daran útiles herramientas a la hora de trabajar con respecto a los tiempos de paro en afirmaciones posteriores.
\begin{lemma}
	\label{paromaxmin}
	Sean $\theta$ y $\tau$ dos tiempos de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$, entonces $\theta \wedge \tau$ y $\theta \vee \tau$ son tiempos de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$.
\end{lemma}
\begin{proof}
	Como $\theta$ y $\tau$ dos tiempos de paro entonces $\{\tau \leq t \} \in \mathcal{F}_t$ y $\{\theta \leq t \} \in \mathcal{F}_t$, podemos entonces ver al conjunto
	\begin{align*}
		\{\theta \wedge \tau > t \} & = \{ \theta > t \} \cap \{ \tau > t \} \\
		& = \{ \theta \leq t \}^{c} \cap \{ \tau \leq t \}^{c} \in \mathcal{F}_t.
	\end{align*}
	Por lo que $\{\theta \wedge \tau \leq t \} = \{\theta \wedge \tau > t \}^{c}$ es un conjunto de $\mathcal{F}_t$, es decir, $\theta \wedge \tau$ es un tiempo de paro respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$. \\

	Para mostrar la segunda afirmación, tenemos que
	\begin{align*}
		\{ \theta \vee \tau \leq t \} = \{ \theta \leq t \} \cap \{ \tau \leq t \} \in \mathcal{F}_t,
	\end{align*}
	lo cual muestra que $\theta \vee \tau$ es un tiempo de paro respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$.
\end{proof}

\begin{lemma}
	Sea $(\tau_n)_{n \geq 1}$ una sucesión de tiempos de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$, entonces $\sup_{n \geq 1} \tau_n$ es tiempo de paro con respecto a la misma filtración. Si además suponemos que la filtración es continua por la derecha entonces
	\begin{align*}
		\inf_{n \geq 1} \tau_n, \hspace{0.3cm} \liminf_{n \rightarrow \infty} \tau_n, \hspace{0.3cm} \limsup_{n \rightarrow \infty} \tau_n,
	\end{align*}
	son tiempos de paro.
\end{lemma}

\begin{proof}
	Basta mostrar que el $\sup_{n \geq 1} \tau_n$ e $\inf{n \geq 1} \tau_n$ son tiempos de paro, pues recordemos que de la definición de $\liminf$ y $\limsup$ tenemos que 
	\begin{align*}
		\limsup_{n \rightarrow \infty} \tau_n = \inf_{n \geq 1} \left\{ \sup_{m \geq n} \tau_m \right\} \text{   y   } \liminf_{n \rightarrow \infty}\tau_n = \sup_{n \geq 1} \left\{ \inf_{m \geq n} \tau_m \right\}.
	\end{align*}.
	Entonces, veamos que para demostrar que $\sup_{n \geq 1} \tau_n$ es un tiempo de paro con respecto a $(\mathcal{F}_t)_{t \geq 0}$, tenemos que comprobar que el conjunto $\{ \sup_{n \geq 1} \tau_n \leq t\}$ es un elemento de $\mathcal{F}_t$. Sin embargo, podemos ver que
	\begin{align*}
		\left\{ \sup_{n \geq 1} \tau_n \leq t \right\} = \bigcap_{n \geq 1} \{\tau_n \geq t\},
	\end{align*}
	donde cada elemento de la intersección pertenece a la filtración a tiempo $t$. De la misma manera podemos observar que
	\begin{align*}
		\left\{ \inf_{n \geq 1} \tau_n \leq t \right\} = \bigcup_{n \geq 1} \{\tau_n < t\}.
	\end{align*}
\end{proof}

\begin{lemma}
	\label{sigmaparadasubset}
	Sean $\tau$ y $\theta$ dos tiempos de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$, y un conjunto $A \in \mathcal{F}_{\theta}$ entonces $A \cap \{\theta \leq \tau\} \in \mathcal{F}_{\tau} \cap \mathcal{F}_{\theta}$. En particular, si $\theta \leq \tau$ entonces $\mathcal{F}_{\theta} \subset \mathcal{F}_{\tau}$.
\end{lemma}
\begin{proof}
	En principio, para comprobar que $A \cap \{\theta \leq \tau\}$ es un elemento de $\mathcal{F}_{\tau}$, recordemos que un conjunto $B$ pertenece a la $\sigma$-álgebra mencionada si y solo si
	\begin{align*}
		B \in \mathcal{F}_{\infty} \text{  y para todo  } t \geq 0 \ B \cap \{\tau \leq t\} \in \mathcal{F}_t.
	\end{align*}
	Sabemos que $A$ y $\{\theta \leq t\}$ son elementos de $\mathcal{F}_{\infty}$. Ahora, consideremos el conjunto
	\begin{align*}
		A \cap \{ \theta \leq \tau\} \cap \{\tau \leq t\} = A \cap \{\theta \leq t\} \cap \{\theta \wedge t \leq \tau \wedge t\} \cap \{\tau \leq t\}.
	\end{align*}
	Sabemos que $A \cap \{\theta \leq t\} \in \mathcal{F}_t$, pues $A \in \mathcal{F}_{\theta}$, como $\tau$ es un tiempo de paro, $\{\tau \leq t\} \in \mathcal{F}_t$, por último, $\theta \wedge t$ y $\tau \wedge t$ son variables aleatorias $\mathcal{F}_t$-medirles, por lo tanto
	\begin{align*}
		A \cap \{ \theta \leq \tau\} \cap \{\tau \leq t\} \in \mathcal{F}_t.
	\end{align*}
	Por lo que, $A \cap \{\theta \leq \tau\} \in \mathcal{F}_{\tau}$. \\

	Por otro lado, podemos ver que se puede descomponer el conjunto
	\begin{align}
		A \cap \{\theta \leq \tau\} \cap \{\theta \leq t\} & = \left( A \cap \{\theta \leq \tau\} \cap \{\tau \leq t\} \cap \{\theta \leq t\} \right) \nonumber \\
		& \cup \left( A \cap \{\theta \leq \tau\} \cap \{\tau > t\} \cap \{\theta \leq t\} \right), \label{acg}
	\end{align}
Pues ambos son disjuntos, ahora veamos que ambos son elementos de $\mathcal{F}_t$. De la primera parte de la demostración sabemos que el primer elemento de la unión en (\ref{acg}) pertenece a $\mathcal{F}_t$. Para la segunda parte en (\ref{acg}) vemos que
	\begin{align*}
		A \cap \{\theta \leq \tau\} \cap \{\tau > t\} \cap \{\theta \leq t\} = A \cap \{\tau \leq t\} \cap \{\theta \leq t\},
	\end{align*}
	donde cada elemento pertenece a $\mathcal{F}_t$, lo cual prueba que $A \cap \{\theta \leq \tau\} \in \mathcal{F}_{\theta}$. En particular, con $\theta \leq \tau$ tenemos que si $A \in \mathcal{F}_{\theta}$ entonces
	\begin{align*}
		A \cap \{ \tau \leq t \} = A \cap \{ \theta \leq \tau \} \cap \{ \tau \leq t \} \in \mathcal{F}_t,
	\end{align*}
	lo cual resulta cierto de los resultados anteriores.
\end{proof}

\begin{lemma}
	\label{nosequeponer}
	Sea $\tau$ un tiempo de paro con respecto a $(\mathcal{F}_t)_{t \geq 0}$ y $\theta$ una función que es $\mathcal{F}_{\tau}$-medible, de tal manera que $\theta \geq \tau$, entonces $\theta$ es un tiempo de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$.
\end{lemma}
\begin{proof}
	Consideremos el conjunto $\{ \theta \leq t \}$, como $\theta \geq t$ tenemos que
	\begin{align*}
		\{\theta \leq t\} = \{\theta \leq t\} \cap \{\tau \leq t\},
	\end{align*}
	pero como $\theta$ es una función $\mathcal{F}_{\tau}$-medible sabemos que todo conjunto $B$ en $\mathcal{F}_{\tau}$ cumple $B \cap \{\tau \leq t\} \in \mathcal{F}_t$, lo cual muestra que $\theta$ es un tiempo de paro.
\end{proof}

\begin{lemma}
	Sean $\tau$ y $\theta$ dos dos tiempos de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$, entonces la suma de ambos es un tiempo de paro con respecto a la misma filtración.
\end{lemma}
\begin{proof}
	Recordemos del Lema \ref{paromaxmin} que si $\tau$ y $\theta$ son tiempos de paro respecto a la misma filtración entonces $\tau \vee \theta$ también lo es. Tenemos que $\tau \vee \theta \leq \tau + \theta$, con al ayuda del Lema \ref{sigmaparadasubset} podemos ver fácilmente que $\mathcal{F}_{\tau}, \mathcal{F}_{\theta} \subset \mathcal{F}_{\tau \vee \theta}$. 

	Por lo tanto, al ser $\tau$ una variable $\mathcal{F}_{\tau}$-medible y $\theta$ una variable $\mathcal{F}_{\theta}$-medible concluimos que $\tau + \theta \in \mathcal{F}_{\tau \vee \theta}$. Del Lema \ref{nosequeponer} concluimos que $\tau + \theta$ es un tiempo de paro.
\end{proof}

\begin{lemma}
	Considere un tiempo de paro $\tau$ con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$ entonces existe una sucesión decreciente $(\tau_n)_{n \geq 1}$ de tiempo de paro discretos tal que $\lim_{n \rightarrow \infty} \tau_n = \tau$.
\end{lemma}
\begin{proof}
	Vamos a definir una sucesión de tiempos aleatorios decrecientes, después veamos que se cumple con las condiciones de tiempo de paro. Se define el tiempo aleatorio $\tau_n (\omega)$ como
	\begin{align*}
		\tau_n (\omega) =
		\begin{cases}
			\frac{k}{2^n}, & \text{ si } \frac{k-1}{2^n} \leq \tau(\omega) < \frac{k}{2^n}, \ k = \{1, 2, \ldots\}; \\
			\infty & \text{ si } \tau(\omega) = \infty.
		\end{cases}
	\end{align*}
    Por definición tenemos que $\tau_{n+1} \leq \tau_n$ y además también sabemos que $\tau_n$ es $\mathcal{F}_{\tau}$-medible para toda $n$. Como $\tau_n \geq 0$, por el Lema \ref{nosequeponer}, $\tau_n$ es un tiempo de paro con respecto a $(\mathcal{F}_t)_{t \geq 0}$. Luego, 
    \begin{align*}
		|\tau_n - \tau| \leq \frac{1}{2^n} \xrightarrow{n \rightarrow \infty} 0,
	\end{align*}
    por lo que $\lim_{n \rightarrow \infty} \tau_n = \tau$.
\end{proof}

Para terminar con esta sección, consideremos analizar procesos estocásticos dado un tiempo aleatorio. Definiremos un ``proceso parado'' y estudiaremos algunas de sus propiedades que serán útiles más adelante a la hora de ver resultados con respecto Martingalas Continuas.

\begin{definition}
	Consideremos un proceso aleatorio $(X_t, t \geq 0)$ y un tiempo de paro $\tau$, y definamos la función $X_{\tau}$, siempre y cuando $\{\tau < \infty\}$ como
    \begin{align*}
    X_{\tau}(\omega) = X_{\tau(\omega)}(\omega).
    \end{align*}
\end{definition}
Veamos ahora que, si $(X_t, t \geq 0)$ es un proceso medible y el tiempo de paro finito, entonces, $X_{\tau}$ resulta una variable aleatoria.

\begin{theorem}
	Sea $(X_t, t \geq 0)$ un proceso progresivamente medible con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$ y con espacio de estados $(E, \mathcal{E})$, y sea $\tau$ un tiempo de paro con respecto a la misma filtración. Entonces
    \begin{enumerate}
    \item La variable aleatoria $X_{\tau}$ definida en el conjunto $\{\tau < \infty\} \in $, es $\mathcal{F}_{\tau}$-medible.
    \item El ``proceso parado'' $(X_{t \wedge \tau}, t \geq 0)$ es progresivamente medible con respecto a $(\mathcal{F}_t)_{t \geq 0}$.
    \item El ``proceso parado'' $(X_{t \wedge \tau}, t \geq 0)$ es adaptado a $(\mathcal{F}_t)_{t \geq 0}$.
    \end{enumerate}
\end{theorem}

\begin{proof}
\noindent Para verificar que el proceso $X_{\tau}$ es $\mathcal{F}_{\tau}$-medible, veamos que para cualquier $A \in \mathcal{E}$ y $t \geq 0$, el evento $\{X_{\tau} \in A\} \cap \{\tau \leq t\}$ es un elemento de $\mathcal{F}_t$. Luego,
	\begin{align*}
    \{X_{\tau} \in A\} \cap \{\tau \leq t\} = \{X_{\tau \wedge t} \in A\} \cap \{\tau \leq t\}.
    \end{align*}
    Por lo que, mostrando el segundo resultado, mostramos el primero. \\

Para mostrar la tercera parte, observemos que, del Lema \ref{paromaxmin} tenemos que $\tau \wedge t$ es un tiempo de paro, y del inciso 1, sabemos que es medible con respecto a $(\mathcal{F}_{\tau \wedge t})_{t \geq 0}$, por lo que, si mostramos la segunda parte, sabemos que todo proceso progresivamente medible es adaptado. \\

Basta entonces mostrar la segunda parte del teorema. Para afirmar que $(X_{t \wedge \tau}, t \geq 0)$ es un proceso progresivamente medible respecto a $(\mathcal{F}_{\tau \wedge t})_{t \geq 0}$ tenemos que mostrar que la aplicación
\begin{align*}
	(s, \omega) \in [0, t] \times \Omega \mapsto X_{s \wedge \tau} (\omega) \in E,
\end{align*}
es $\mathcal{B}[0, t] \times \mathcal{F}_t$-medible. Podemos descomponer al ``proceso parado'' $X_{s \wedge \tau} (\omega)$, para un tiempo $s \leq t$ como
\begin{align*}
	X_{s \wedge \tau} (\omega) = X(s \wedge \tau (\omega), \omega) = X \circ \Psi (s, \omega),
\end{align*}
esto cierto para un mapeo $\Psi$, por hipótesis sabemos que $X$ es un proceso progresivamente medible, por lo que si mostramos una aplicación que sea progresivamente medible y que cumpla con la anterior composición habremos mostrado el resultado. Consideremos entonces la función $\varphi (s, \omega) = s \wedge \tau(\omega)$ y un tiempo $r \leq t$, entonces veamos que 
\begin{align*}
	(\varphi \leq r) & = \{ (s, \omega) \in [0, t] \times \Omega : s \wedge \tau(\omega) \leq r \} \\
    & = ([0, r] \times \Omega) \cup ([0, t] \times \{ \tau (\omega) \leq r \}) \in \mathcal{B}[0, t] \times \mathcal{F}_t.
\end{align*}
Si definimos a $\Psi: [0, t] \times \Omega \mapsto [0, t] \times \Omega$ de la siguiente manera
\begin{align*}
	(s, \omega) \mapsto (\varphi(\omega), \omega).
\end{align*}
Podemos observar que este mapeo cumple que para cada intervalo $I \in [0, t]$ y para todo conjunto $A \in \mathcal{F}_t$ se tiene que
\begin{align*}
	\Psi^{-1}(I \times A) = \{ (s, \omega) : \varphi(s, \omega) \in I, \omega \in A \} = \varphi^{-1}(I) \cap ([o, t] \times A) \in \mathcal{B}[0, t] \times \mathcal{F}_t.
\end{align*}
Por lo tanto, sabemos que el mapeo es $\Psi$ es $\mathcal{B}[0, t] \times \mathcal{F}_t$-medible, lo cual termina de mostrar segunda parte del resultado.
\end{proof}

\section{Martingalas a tiempo continuo}
En esta sección mostraremos algunas propiedades ya vistas en el Capítulo I, ahora extendidas con una noción de tiempo continuo. Cabe destacar algunos resultados nuevos e importantes dentro de esta sección, como serán las desigualdades maximales a tiempo continuo, los cruces que realiza un proceso a lo largo de su trayectoria, así como las condiciones para la continuidad de éstas. Finalizaremos extenderemos el Teorema de Paro de Doob a tiempo continuo. \\

\begin{definition}
	Sea $(X_t, t \geq 0)$ un proceso adaptado a la filtración $(\mathcal{F}_t)_{t \geq 0}$.
    \begin{enumerate}
	\item Decimos que el proceso $(X_t, t \geq 0)$ es una submartingala si
    	\begin{enumerate}
		\item para toda $t \geq 0$, $\mathbb{E}[X_t^{+}] < \infty$,
        \item para cada $0 \leq s < t < \infty$,
        \begin{align*}
			\mathbb{E}[X_t \mid \mathcal{F}_s] \geq X_s.
		\end{align*}
		\end{enumerate}
    \item El proceso $(X_t, t \geq 0)$ es una supermartingala si el proceso $(-X_t, t \geq 0)$ es una submartingala.
    \item Finalmente, decimos que el proceso $(X_t, t \geq 0)$ es una martingala si es una submartingala y supermartingala, es decir, si
    \begin{enumerate}
	\item para toda $t \geq 0$, $\mathbb{E}[|X_t|] < \infty$,
    \item para cada $0 \leq s < t < \infty$,
 	   \begin{align*}
			\mathbb{E}[X_t \mid \mathcal{F}_s] = X_s.
		\end{align*}
	\end{enumerate}
	\end{enumerate}
\end{definition}

De la definición anterior podemos ver a continuación algunos empleos de martingalas con enfoque browniano. Considere un movimiento Browniano estándar $B = (B_t, t \geq 0)$ y una filtración asociada $(\mathcal{F}_t)_{t \geq 0}$, donde consideraremos la filtración canónica. \\

Recordemos del Capítulo 3, que el movimiento Browniano posee la propiedad de Markov, de la cual concluimos que $B_t - B_s$ es independiente de $\mathcal{F}_s$, para toda $t > s$. Ahora, tenemos que
\begin{align*}
	\mathcal{E}[B_t \mid \mathcal{F}_s] & = \mathbb{E}[B_t + (B_s - B_s) \mid \mathcal{F}_s] \\
    & = \mathbb{E}[B_t - B_s \mid \mathcal{F}_s] + \mathbb{E}[B_s \mid \mathcal{F}_s] \\
    & = \mathbb{E}[B_t - B_s \mid \mathcal{F}_s] + B_s \\
    & = \mathbb{E}[B_t - B_s] + B_s = B_s.
\end{align*}

Veamos también que, el proceso $(B_t^2 - t, t \geq 0)$ es martingala. Considere un tiempo $t > s$, de la propiedad de Markov,nuevamente vemos que
\begin{align*}
	\mathbb{E} \left[B_t^2 - B_s^2 \mid \mathcal{F}_s \right] & = \mathbb{E}\left[B_t^2 \mid \mathcal{F}_s\right] - \mathbb{E}\left[B_s^2 \mid \mathcal{F}_s\right] \\
    & = \mathbb{E} \left[ \left(B_t - B_s + B_s \right)^2 \mid \mathcal{F}_s \right] - B_s^2 \\
    & = \mathbb{E} \left[ \left(B_t - B_s \right)^2 + 2 B_s \left(B_t - B_s \right) + B_s^2 \mid \mathcal{F}_s \right] - B_s^2 \\
    & = B_s^2 + \mathbb{E} \left[ \left(B_t - B_s \right)^2 \right] + 2B_s \mathbb{E} \left[B_t - B_s \right] - B_s^2 \\
    & = t - s.
\end{align*}

Lo cual implica que $(B_t^2 - t, t \geq 0)$ es una martingala. Ahora, observemos algunas propiedades de las martingalas a tiempo continua. \\

\begin{enumerate}
	\item De la misma manera que en la Proposición \ref{convexa}, si $(X_t, t \geq 0)$ es una martingala y $f$ es una función convexa tal que para toda $t \geq 0$, con $\mathbb{E}[|f(X_t)|] < \infty$, entonces $(f(X_t), t \geq 0)$ es una submartingala. \\
    
    \item Veamos que si $(X_t, t \geq 0)$ es una submartingala y $f$ es una función convexa y creciente tal que para toda $t \geq 0$, con $\mathbb{E}[|f(X_t)|] < \infty$, entonces podemos afirmar que $(f(X_t), t \geq 0)$ es una submartingala, de la desigualdad de Jensen valida para esperanza condicional.
    \begin{align*}
		f(X_s) \leq f \left( \mathbb{E} [X_t \mid \mathcal{F}_s] \right) \leq \mathbb{E} [f(X_t) \mid \mathcal{F}_s].
	\end{align*}
    
    \item De la observación anterior podemos ver que para dos tiempos $s, t$ tales que $s \leq t$ se tiene que
    \begin{align*}
		\mathbb{E} [X_S^{+}] \leq \mathbb{E} [X_t^{+}],
	\end{align*}
    además, de la definición de submartingala tenemos que $\mathbb{E}[X_0] \leq \mathbb{E}[X_s ]$, lo cual implica que
    \begin{align*}
		\sup_{s \in [0, t]} \mathbb{E} \left[ |X_s| \right] \leq 
	\end{align*}
    
    \item Aquí falta una parte de las observaciones.
\end{enumerate}

\subsection{Desigualdades Maximales}
Antes de enunciar un resultado importante para martingalas continuas, como lo son las Desigualdades de Doob, conviene recordar algunas proposiciones ya vistas en el primer capítulo.

Veamos que las desigualdades requeridas son válidas en el caso discreto, después, se comprueba que lo son para un subconjunto numerable de un intervalo $[0, T]$ y finalmente, se utiliza la continuidad por la derecha para aproximar y obtener el resultado deseado.

\begin{proposition}
	Sea $(X_n, n \in J)$, donde $J = \{0, 1, \ldots, N\}$, una submartingala integrable y $\lambda > 0$, entonces
    \begin{align*}
		\mathbb{P} \left( \sup_{n \in J} X_n \geq \lambda \right) \leq \frac{1}{\lambda} \mathbb{E}\left[ X_N 1_{\{ \sup_{n \in J} X_n \geq \lambda\}} \right] \leq \frac{1}{\lambda} \mathbb{E}\left[ |X_N| \right].
	\end{align*}
\end{proposition}
\begin{proof}
	La demostración se sigue del Teorema \ref{primera}.
\end{proof}

\begin{proposition}
	Considere $(X_n, n \in J)$, donde $J = \{0, 1, \ldots, N\}$ es una martingala o submartingala positiva y $\lambda > 0$. Si $\mathbb{E}[|X_N|^p] < \infty$ para alguna $p \geq 1$, entonces
    \begin{align*}
		\lambda^p \mathbb{P} \left( \sup_{n \in J} |X_n| \geq \lambda \right) \leq \mathbb{E}[|X_N|^p],
	\end{align*}
y además, para $p > 1$ se tiene que
	\begin{align*}
		\mathbb{E} [|X_N|^p] \leq \mathbb{E} \left[ \sup_{n \in J} |X_n|^p \right] \leq \left( \frac{p}{p-1} \right)^p \mathbb{E}[|X_N|^p].
	\end{align*}
\end{proposition}
\begin{proof}
	La demostración se sigue de los Teoremas \ref{lp} y \ref{lp2}.
\end{proof}

\begin{proposition}
\label{lp3}
	Sea $(X_t, t \in [0, T])$ una martingala tal que para $p \geq 1$, el $\sup_{s \in [0, T]} \mathbb{E}[|X_s|^p] < \infty$. Entonces para un conjunto $D \subset [0, T] numerable$, $\lambda > 0$ y $p \geq 1$,
    \begin{align*}
    \lambda^p \mathbb{P} \left( \sup_{t \in D} |X_t| \geq \lambda \right)  \leq \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p], 
    \end{align*}
y, además, para $p > 1$ se tiene que
	\begin{align*}
	\mathbb{E} \left[ \sup_{t \in D} |X_t|^p \right] \leq \left( \frac{p}{p-1} \right)^p \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p].
	\end{align*}
\end{proposition}

\begin{proof}
	Aquí va la primera parte de la demostración que aún no he entendido. \\
    
    Para probar la segunda desigualdad, veamos que, de la Proposición \ref{lp3} sabemos que para $p > 1$
    \begin{align*}
		\mathbb{E} \left[ \sup_{t \in D_n} |X_t|^p \right] \leq \left( \frac{p}{p-1} \right)^p \mathbb{E} [|X_N|^p].
	\end{align*}
Sin embargo, para un conjunto finito numerable $D_n$, tenemos que $\mathbb{E} [|X_N|^p] = \sup_{t \in D_n} \mathbb{E}[|X_t|^p]$. Por lo tanto,
	\begin{align}
	\mathbb{E} \left[ \sup_{t \in D_n} |X_t|^p \right] & \leq \left( \frac{p}{p-1} \right)^p \sup_{t \in D_n} \mathbb{E}[|X_t|^p] \nonumber \\
    & \leq \left( \frac{p}{p-1} \right)^p \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p], \label{ach}
	\end{align}
para toda $n \in \mathbb{N}$. De la primera parte de la demostración, sabemos que
	\begin{align*}
		\left( \sup_{t \in D} |X_t| \right)^p = \lim_{n \rightarrow \infty} \left( \sup_{t \in D_n} |X_t| \right)^p,
	\end{align*}
aplicando el Teorema de Convergencia Monótona obtenemos
	\begin{align*}
		\mathbb{E} \left[ \sup_{t \in D} |X_t|^p \right] = \lim{n \rightarrow \infty} \mathbb{E} \left[ \sup_{t \in D_n} |X_t|^p \right],
	\end{align*}
por lo tanto, de (\ref{ach}) tenemos que
	\begin{align*}
		\mathbb{E} \left[ \sup_{t \in D} |X_t|^p \right] \leq \left( \frac{p}{p-1} \right)^p \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p].
	\end{align*}
\end{proof}

Con los resultados anteriores, podemos demostrar las desigualdades de Doob para cualquier intervalo $[0, T]$.

\begin{theorem}[Desigualdades de Doob]
	Sea $(X_t, t\in [0, T])$ una martingala continua por la derecha (o por la izquierda) tal que para $p \geq 1$, con $\sup_{s \in [0, T]} \mathbb{E}[|X_t|^p] < \infty$. Entonces para $\lambda > 0$ y $p \geq 1$ tenemos, 
    \begin{align*}
    \lambda^p \mathbb{P} \left( \sup_{t \in [0, T]} |X_t| \geq \lambda \right)  \leq \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p], 
    \end{align*}
y, además, para $p > 1$ se tiene que
	\begin{align*}
	\mathbb{E} \left[ \sup_{t \in [0, T]} |X_t|^p \right] \leq \left( \frac{p}{p-1} \right)^p \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p].
	\end{align*}
\end{theorem}
\begin{proof}
	De la Proposición \ref{lp3} sabemos que ambas desigualdades se cumplen para todo conjunto $I \subset [0, T]$ numerable. Si tomamos a una sucesión $I_n \subset [0,T]$ de tal manera que $I_n$ sea una sucesión decreciente con $\cap_{n \geq 1} I_n = [0, T]$ entonces para $\lambda > 0$ y $p \geq 1$ tenemos,
    \begin{align*}
		\lambda^p \mathbb{P} \left( \sup_{t \in [0, T]} |X_t| \geq \lambda \right) & = \lim_{n \rightarrow \infty} \lambda^p \mathbb{P} \left( \sup_{t \in I_n} |X_t| \geq \lambda \right) \\ 
        & \leq \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p], 
	\end{align*}
y para $p > 1$
    \begin{align*}
		\mathbb{E} \left[ \sup_{t \in [0, T]} |X_t|^p \right] & = \lim_{n \rightarrow \infty} \mathbb{E} \left[ \sup_{t \in I_n} |X_t|^p \right] \\
        & \leq \left( \frac{p}{p-1} \right)^p \sup_{t \in [0, T]} \mathbb{E}[|X_t|^p].
	\end{align*}
\end{proof}

\subsection{Regularidad de Trayectorias}
Con los resultados vistos hasta ahora para martingalas continuas, podemos estudiar la regularidad de las trayectorias, es decir, obtener las condiciones bajo las cuales una submartingala va a tener trayectorias continuas por la derecha. De igual manera, observar propiedades de convergencia en martingalas continuas. \\

Definamos en primer lugar, los siguientes conceptos. Sea $(X_t, t \geq 0)$ un proceso estocásticos con el espacio de estados $(\mathbb{R}, \mathcal{B}(\mathbb{R}))$. Sean $a$ y $b$ dos números reales donde $a < b$ y con $I \subset [0, \infty)$. Para un subconjunto $F = \{t_1 < t_2, \ldots, t_d\}$ finito de $I$, se definen los tiempos
\begin{align*}
	s_1(\omega) & = \inf \{t_i : X_{t_i} > b\}, \\
    s_2(\omega) & = \inf \{t_i > s_1 : X_{t_i} < a\}, \\
    \vdots \\
    s_{2n + 1}(\omega) & = \inf \{ t_i > s_{2n} : X_{t_i} > b \}, \\
    s_{2n + 2}(\omega) & = \inf \{ t_i > s_{2n + 1} : X_{t_i} < a \}, \\
\end{align*}
y por convención tendremos que $\inf(\emptyset) = t_d$. Notemos que, si el conjunto $\{t_i > s_1 : X_{t_i} < a\}$ es no vacío, podemos afirmar que el proceso cruz por abajo el intervalo $[a, b]$, por lo que si definimos a
\begin{align*}
	D(X, F, [a, b]) = \sup \left\{ n : s_{2n} < t_d \right\},
\end{align*}
entonces, podemos decir que el número de veces que cruza por abajo del intervalo $[a, b]$ el proceso $(X_t, t \geq 0)$ está representado por
\begin{align}
	D(X, I, [a, b]) = \sup \left\{ D(X, F, [a, b]) : F \subset I, I \text{ finito }. \right\}
\end{align}
La función definida anteriormente resulta ser una variable aleatoria cuando el conjunto $I$ es numerable, y además cumple lo siguiente.

\begin{proposition}
	Sea $(X_t, t \geq 0)$ una submartingala, $I$ un conjunto numerable, entonces
    \begin{align*}
		\mathbb{E} \left[ D(X, I, [a, b]) \right] \leq \frac{1}{(b-a)} \sup_{t \in I} \mathbb{E} \left[ (X_t - b)^{+} \right].
	\end{align*}
\end{proposition}
\begin{proof}
	Considere el caso donde $I$ es un subconjunto numerable y finito. Tomando a $I$ como $\{t_1 < t_2 < \cdots, t_d\}$. Por definición sabemos que
    \begin{align*}
		s_{2i-1} (\omega) & = \inf \{ t_{2i-1} : X_{t_{2i-1}} > b \}, \\
        s_{2i} (\omega) & = \inf \{ t_{2i} : X_{t_{2i}} < a \},
	\end{align*}
son tiempos de paro con respecto a $(\mathcal{F}_{t_{2i-1}})_{t{_2i-1} \in I}$ y $(\mathcal{F}_{t_{2i}})_{t{_2i} \in I}$, respectivamente. Si definimos al conjunto $A_k$ como $\{ s_k < t_d \}$, entonces, $A_k \in \mathcal{F}_{s_k}$, y además
	\begin{align*}
		A_k = \{ s_k < t_d \} \supset \{ s_{k+1} < t_d \} = A_{k+1},
	\end{align*}
ya que $s_k \leq s_{k+1}$. \\

En el conjunto $A_{2n - 1} = \{ s_{2n - 1} \}$ tenemos que $X_{s_{2n - 1}} > b$ y en $A_{2n}$ se tiene $X_{s_{2n}} < a$, por lo tanto
	\begin{align*}
		0 \leq \mathbb{E} \left[ X_{s_{2n - 1}} - b, A_{2n - 1} \right] \leq \mathbb{E} \left[ X_{s_{2n}} - b, A_{2n - 1} \right].
	\end{align*}
Al ser $(A_k)_{k \geq 1}$ una sucesión de conjunto decreciente, se tiene que $A_{2n}$ y $A_{2n - 1} \setminus A_{2n}$ son conjuntos disjuntos a pares. Obtenemos entonces, 
	\begin{align*}
		0 \leq \mathbb{E} \left[ X_{s_{2n - 1}} - b,\ A_{2n - 1} \right] & \leq \mathbb{E} \left[ X_{s_{2n}} - b, \ A_{2n - 1} \right] \\
        & = \mathbb{E} \left[ X_{s_{2n}} - b, \ A_{2n} \right] + \mathbb{E} \left[ X_{s_{2n}} - b, \ A_{2n - 1} \setminus A_{2n} \right] \\
        & = \mathbb{E} \left[ X_{s_{2n}}, \ A_{2n} \right] - b \mathbb{P} (A_{2n}) + \mathbb{E} \left[ X_{s_{2n}} - b, \ A_{2n - 1} \setminus A_{2n} \right] \\
        & \leq (a - b) \mathbb{P} (A_{2n}) + \mathbb{E} \left[ X_{s_{2n}} - b, \ A_{2n - 1} \setminus A_{2n} \right],
	\end{align*}
donde la última desigualdad se da por el Teorema de Paro Opcional de Doob para tiempo discreto. Recordemos que en el conjunto $A_{2n}^{c}$, el tiempo $s_{2n}$ es igual a $t_d$, entonces
	\begin{align*}
		(b - a) \mathbb{P}(A_{2n}) \leq \mathbb{E} \left[ (X_{s_{2n}} - b)^{+}, \ A_{2n - 1} \setminus A_{2n} \right] = \mathbb{E} \left[ (X_{t_d} - b)^{+}, \ A_{2n - 1} \setminus A_{2n} \right].
	\end{align*}
De la construcción de $s_k$ podemos ver que $\mathbb{P}(A_{2n}) = \mathbb{P} \{ s_{2n} < t_D \}$ es equivalente a la probabilidad de que el proceso $X$ cruce $n$ veces o más el intervalo $[a, b]$, por lo que se tiene la siguiente desigualdad
	\begin{align*}
		\sum_{n = 1}^{\infty} (b-a) \mathbb{P} \left( D(X, I, [a, b]) \geq n \right) \leq \sum_{n = 1}^{\infty} \mathbb{E} \left[ (X_{t_d} - b )^{+}, \ A_{2n - 1} \setminus A_{2n} \right],
	\end{align*}
lo que es equivalente a 
	\begin{align*}
		(b-a) \mathbb{E} \left[ D(X, I, [a, b]) \right] \leq \mathbb{E} \left[ (X_{t_d} - b )^{+} \right].
	\end{align*}
\end{proof}


\subsection{Teorema de Paro de Doob}


\section{Aplicaciones al Movimiento Browniano}





















