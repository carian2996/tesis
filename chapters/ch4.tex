En el presente capítulo estudiamos las propiedades y resultados principales de tiempos de paro y martingalas a tiempo continuo. Muchos de los resultados se han sido vistos en el Capítulo 1, sin embargo, es necesario presentar nuevos conceptos para poder analizar los procesos estocásticos a tiempo continuo. Las herramientas que se presentan en este capítulo serán las necesarias para poder resolver el Problema de Paro Óptimo a tiempo continuo. \\

En principio, se presentan nuevos conceptos referentes a los procesos estocásticos a tiempo continuo, para después analizar los tiempos de paro y las martingalas. Al final del capítulo se dan algunas aplicaciones de las propiedades de martingalas para el movimiento Browniano. 

\section{Conceptos fundamentales}

\begin{definition}
	Considere un espacio de probabilidad $(\Omega, \mathcal{F}, \mathbb{P})$. Una filtración a tiempo continuo es una familia de sub-$\sigma$-álgebras $(\mathcal{F}_t)_{t \geq 0}$ cada una perteneciente a $\mathcal{F}$, de tal manera que $\mathcal{F}_s \subset \mathcal{F}_t$ si y solo si $s \leq t$. Al sistema $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$ se le conoce como espacio de probabilidad filtrado.
\end{definition}

Recordemos que la filtración canónica asociada al proceso estocástico $X = (X_t, t \geq 0)$ está definida como $\mathcal{F}_t = \sigma(X_s : s \leq t)$. Definamos los siguientes conceptos.

\begin{align*}
	\mathcal{F}_{t^{-}} = \sigma \left( \bigcup_{s < t} \mathcal{F}_s \right), \hspace{0.3cm} \mathcal{F}_{t^{+}} = \bigcap_{s > t} \mathcal{F}_s, \hspace{0.3cm} \text{ para toda } t \geq 0.
\end{align*}

De las definiciones anteriores es claro ver que $\mathcal{F}_{t^{-}} \subset \mathcal{F}_t \subset \mathcal{F}_{t^{+}}$. \\

Como se ha visto hasta el momento, el concepto de medibilidad, resulta claro cuando se fija una tiempo $t$, entonces se dice que $X_t$ es una función $\mathcal{F}$-medible, sin embargo, hemos observado que un proceso estocástico continuo depende de dos variables $(t, \omega)$, por lo que; si el evento $\omega$ es fijo, se contamos con ninguna propiedad que pueda decirnos si las trayectorias del proceso son medibles. Para ello, es conveniente contar con alguna característica de medibilidad conjunta. \\

\begin{definition}
	Un proceso estocástico $X = (X_t, t \geq 0)$ con espacio de estados $(E, \mathcal{E})$ se dice medible, si para toda $A \in \mathcal{E}$, el conjunto
	\begin{align*}
	\{ (t, \omega) : X_t (\omega) \in A \},
	\end{align*}
	Pertenece a la $\sigma$-álgebra producto $\mathcal{B} [0, \infty)] \times \mathcal{F}$, es decir,
	\begin{align*}
	(t, \omega) \rightarrow X_t(\omega) : ([0, \infty) \times \Omega, \ \mathcal{B}(0, \infty) \times \mathcal{F} ) \rightarrow (E, \mathcal{E}).
	\end{align*}
\end{definition}

Del Teorema de Fubuni sabemos que \\

Aquí va el Teorema de Tonell-Fubini. \\

En consecuencia, sabemos que las trayectorias de un proceso medible, son funciones $\mathcal{B}[0, \infty)$-medibles. El hecho de introducir un concepto de filtración continua, nos permitirá definir conceptos más interesantes y útiles que el de proceso medible.

\begin{definition}
	Considere un espacio de probabilidad filtrado  $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$ y un proceso estocástico $(X_t, t \geq 0)$ definido en  $(\Omega, \mathcal{F}, \mathbb{P})$. Se dice que el proceso es adaptado a la filtración $(\mathcal{F}_t)_{t \geq 0}$ si para toda $t \geq 0$ la variable aleatoria $X_t$ es $\mathcal{F}_t$-medible.
\end{definition}

La siguiente definición es fundamental para el estudios de los procesos a tiempo continuo.

\begin{definition}[Proceso Progresivo]
	Sea $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$ un espacio de probabilidad filtrado y sea $(X_t, t geq 0)$ un proceso estocástico definido en $(\Omega, \mathcal{F}, \mathbb{P})$, con un espacio de estados $(E, \mathcal{E})$. Decimos que el proceso es progresivamente medible, o simplemente, progresivo, si para toda $t \geq 0$
	\begin{align*}
		[0, t] \times \Omega \rightarrow E \\
		(s, \omega) \rightarrow X_s (\omega).
	\end{align*}
	es $\mathcal{B}[0, t] \times \mathcal{F}_t$-medible.
\end{definition}

De las definiciones anteriores podemos afirmar que todo proceso aleatorio es adaptado a su filtración canónica y de la misma manera, decir que un proceso progresivamente medible es siempre adaptado. Sin embargo, en general no se puede suponer cierto que un proceso adaptado es un proceso progresivo, a menos que este sea continuo por la derecha o por la izquierda, como se verá en el siguiente teorema. \\

\begin{theorem}
	Sea $(X = X_t, t \geq 0)$ un proceso estocástico con valores en un espacio métrico $(E, \mathcal{E})$, adaptado a la filtración $(\mathcal{F}_t)_{t \geq 0}$ y continuo por la derecha (o por la izquierda), entonces $X$ es progresivo.
\end{theorem}
\begin{proof}
	Demostraremos el caso en que $X$ es continuo por la derecha, pues cuando es continuo por la izquierda, se realiza una prueba similiar. Para verificar que un proceso es progresivo basta ver que para cada conjunto $A \in \mathcal{B}(E)$
	\begin{align}
	\{ (s, \omega) \in [0, t] \times \Omega : X_s(\omega) \in A \} \in \mathcal{B}[0, t] \times \mathcal{F}_t, \label{progre}
	\end{align}
	Si definimos al proceso continuo en función de un proceso discreto podremos verificar la condición deseada y por la continuidad de $X$, lograremos probar la afirmación. Consideremos entonces para cada $n \geq 1$, $k \in \{ 0, 1, \ldots, 2^n - 1 \}$ y $s \in [0, t]$ el siguiente proceso
	\begin{align*}
	X_s^n (\omega) = 
	\begin{cases}
	X_{\frac{(k+1)t}{2^n}} (\omega), & \text{ si } \frac{kt}{2^n} < s \leq \frac{(k+1)t}{2^n}; \\
	X_0 (\omega), & \text{ si } s = 0.
	\end{cases}
	\end{align*}
	De la continuidad de $X$ sabemos que $\lim_{n \rightarrow \infty} X_s^n (\omega) = X_s (\omega)$ para toda $(s, \omega) \in [0, t] \times \Omega$. \\
	
	Por último, veamos que (\ref{progre}) se cumple para $X_s^n$, al conjunto
	\begin{align*}
	\{ (s, \omega) \in [0, t] \times \Omega : X_s(\omega) \in A \},
	\end{align*}
	lo podemos escribir de tal manera que cada uno de sus elementos pertenezca a $\mathcal{B}[0, t] \times \mathcal{F}_t$, por ejemplo
	\begin{align*}
	\bigcup_{k = 0}^{2^n - 1} \left\{ \left( \frac{kt}{2^n}, \frac{(k+1)t}{2^n} \right] \times \left\{ X_{\frac{(k+1)t}{2^n} \in A} \right\}  \right\} \bigcup\left\{ \{0\} \times \{X_0(\omega) \in A\} \right\}.
	\end{align*}
	Del argumento anterior podemos afirmar que $X$ es un proceso progresivo.
\end{proof}

El siguiente concepto será la base para la definición de una $\sigma$-álgebra ligada a los proceso progresivamente medibles, además de ser un concepto útil en el trabajo posterior.

\begin{definition}
	Se dice que un conjunto $A \subset \mathbb{R}_{+} \times \Omega$ es progresivamente medible si el proceso asociado a $A$
	\begin{align*}
	X_t(\omega) = 1_A (t, \omega) =
	\begin{cases}
	1, & \text{ si } (t, \omega) \in A; \\
	0, & \text{ si } (t, \omega) \notin A
	\end{cases}
	\end{align*}
	es progresivamente medible.
\end{definition}

\begin{proposition}
	La familia de conjuntos progresivamente medibles forma un $\sigma$-álgebra conocida como $\sigma$-álgebra progresiva.
\end{proposition}
\begin{proof}
	Aquí va la demostración que no he terminado.
\end{proof}

La siguiente proposición muestra la relación entre la $\sigma$-álgebra progresiva y los procesos progresivamente medibles.

\begin{proposition}
	Sea $(X_t, t \geq 0)$ un proceso estocástico definido en $(\Omega, \mathcal{F}, \mathbb{P})$, con un espacio de estados $(E, \mathcal{E})$. El proceso $X$ es progresivamente medible si y solo si $(t, \omega) \rightarrow X_t(\omega)$ es medible con respecto a la $\sigma$-álgebra progresiva.
\end{proposition}
\begin{proof}
	Aquí va otra demostración que no he entendido gracias a la medibilidad con respecto a la $\sigma$-álgebra progresiva.
\end{proof}

Antes de entrar de lleno al estudio de los tiempos de paro a tiempo continuo, consideremos las siguientes definiciones.
\begin{definition}
	Una filtración $(\mathcal{F}_t)_{t \geq 0}$ se llama continua por la derecha si $\mathcal{F}_t = \mathcal{F}_{t^{+}} = \cap_{s > t} \mathcal{F}_s$, para toda $t \geq 0$.
\end{definition}

Consideremos a la filtración $(\mathcal{F}_{t^{+}})_{t \geq 0}$ y veamos que es continua por la derecha. Para facilitar el argumento, renombremos a $\mathcal{F}_{t_{+}}$ por $\mathcal{G}_t$, por lo que tenemos, por definición que $\mathcal{G}_t \subseteq \mathcal{G}_{t^{+}}$, más aún
	\begin{align*}
	\mathcal{G}_{t^{+}} = \bigcap_{s < t} \mathcal{G}_s = \bigcap_{s < t} \mathcal{F}_{s^{+}} = \bigcap_{s < t}  \left( \bigcap_{u < s} \mathcal{F}_u \right) \subseteq \bigcap_{s < t} \mathcal{F}_s = \mathcal{F}_{t^{+}} = \mathcal{G}_t
	\end{align*}
Por lo que $\mathcal{G}_t  = \mathcal{G}_{t^{+}}$, lo que quiere decir, que la filtración $(\mathcal{F}_{t_{+}})_{t \geq 0}$ es continua por la derecha. \\

\begin{definition}
	Sea $(\mathcal{F}_t )_{t \geq 0}$ una filtración. Si $\mathcal{F}_0$ contiene a todos los conjuntos $\mathbb{P}$-nulos entonces decimos que es una filtración completa.
\end{definition}

\begin{definition}
	Decimos que la filtración $(\mathcal{F}_t )_{t \geq 0}$ Cumple con las condiciones habituales si es continua por la derecha y es completa.
\end{definition}

\section{Tiempos de paro a tiempo continuo}
En esta sección introduciremos la noción de un tiempo de paro, pero esta vez a tiempo continuo.Las propiedades de los tiempos de paro discretos son similares a las que a continuación veremos, pero aún así es conveniente realizar definiciones detalladas de los conceptos.

\begin{definition}
	En un espacio de probabilidad filtrado $(\Omega, \mathcal{F}, (\mathcal{F}_t)_{t \geq 0}, \mathbb{P})$, una función $\tau : \Omega \rightarrow [0, \infty]$ se llama tiempo de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$ si
	\begin{enumerate}
		\item $\tau$ es $\mathcal{F}_{\infty}$-medible.
		\item El conjunto $\{ \tau \leq t \}$ pertenece a $\mathcal{F}_t$, para toda $t \geq 0$.
	\end{enumerate}
\end{definition}

Resulta claro ver que, si $\tau$ es una función constante, entonces es un tiempo de paro. Si consideramos a $k$, una constante positiva, y además $t \in [0, k)$, el conjunto $\{\tau + k \leq t\} = \emptyset$ el cual esta en $\mathcal{F}_t$, por otro lado, si $t \in [k, \infty)$ entonces
\begin{align*}
\{ \tau + k \leq t \} = \{ \tau \leq t - k \} \in \mathcal{F}_{t-k} \subseteq \mathcal{F}_{t}.
\end{align*}
Lo cual implica que $\tau + k$ es un tiempo de paro.

\begin{proposition}
	\label{paroequivalente}
	Si la filtración $(\mathcal{F}_t)_{t \geq 0}$ es continua por la derecha, entonces $\tau$ es un tiempo de paro si y solo si $\{\tau < t\}$ pertenece a $\mathcal{F}_t$, para toda $t \geq 0$.
\end{proposition}
\begin{proof}
	Suponiendo que $\tau$ es un tiempo de paro. para un tiempo fijo $s < t$ se tiene
	\begin{align*}
	\{ \tau \leq s \} \in \mathcal{F}_s,
	\end{align*}
	Pero como, $\mathcal{F}_t$ es filtración, entonces para toda $t \geq 0$ se tiene que $\mathcal{F}_s \subset \mathcal{F}_t$, por lo tanto, $\{ \tau \leq s \} \in \mathcal{F}_t$. Entonces 
	\begin{align*}
	\{ \tau < t \} = \bigcup_{s < t} \{ \tau \leq s \} \in \mathcal{F}_t, \hspace{0.3cm} \text{ para } t \geq 0.
	\end{align*}
	
	Por otra parte, si suponemos que $\{ \tau < t \} \in \mathcal{F}_t$, para toda $t \geq 0$, podemos ver que 
	\begin{align*}
	\{\tau \leq t \} = \bigcap_{s > t} \{\tau > s\} \in \mathcal{F}_{t^{+}}.
	\end{align*}
	Como $(\mathcal{F}_t)_{t \geq 0}$ es un filtración continua por la derecha sabemos que $\mathcal{F}_{t^{+}} = \mathcal{F}_t$. Se tiene entonces que $\tau$ es un tiempo de paro.
\end{proof}

La siguiente definición nos será útil al analizar cuando un proceso aleatorio entra por primera vez en un conjunto. 
\begin{definition}
	Se define al tiempo de entrada del proceso $(X_t, t \geq 0)$ al conjunto $A$, como
	\begin{align*}
	\tau_A (\omega) = 
	\begin{cases}
	\inf \{ t \geq 0 : X_t (\omega) \in A \}, & \text{ si } \{ t \geq 0 : X_t (\omega) \in A \} \neq \emptyset, \\
	\infty, & \text{ si } \{ t \geq 0 : X_t (\omega) \in A \} = \emptyset.
	\end{cases}
	\end{align*}
\end{definition}

Veamos ahora que, bajo ciertas condiciones dadas a la filtración, al proceso y al conjunto, el tiempo de entrada es un tiempo de paro.
\begin{proposition}
	Sea $X = (X_t, t \geq 0)$ un proceso estocástico adaptado a la filtración $(\mathcal{F}_t)_{t \geq 0}$, y con un espacio de estados $(E, \mathcal{B}(E))$, donde $E$ es un espacio métrico y sea $A \in\mathcal{B}(E)$.
	\begin{enumerate}
		\item Si $X$ es continuo por la derecha, $(\mathcal{F}_t)_{t \geq 0}$ es continua por la derecha y $A$ es un conjunto abierto, entonces $\tau_A$ es un tiempo de paro con respecto a $(\mathcal{F}_t)_{t \geq 0}$.
		\item Si $X$ es continuo y $A$ es un conjunto cerrado, entonces $\tau_A$ es un tiempo de paro con respecto a $(\mathcal{F}_t)_{t \geq 0}$.
	\end{enumerate}
\end{proposition}
\begin{proof}
	Consideremos los elementos $\omega \in \Omega_0$ tales que, la trayectoria del proceso $X$ es continua por la derecha, con $\mathbb{P}(\Omega-0) = 1$. Sea
	\begin{align*}
	C_t : = \bigcup_{s \in \mathbb{Q}_{+}} \left\lbrace X_s \in A : s < t \right\rbrace \hspace{0.3cm} \text{ para } t \geq 0 \text{ fija}, 
	\end{align*}
	donde $A$ s un conjunto abierto de $\mathcal{B}(E)$. Como $X$ es adaptado a $(\mathcal{F}_t)_{t \geq 0}$ tenemos que $X_t$ es $\mathcal{F}_t$-medible para toda $t \geq 0$, es decir, para cualquier $A \in \mathcal{B}(E)$
	\begin{align*}
	\{ \omega \in \Omega \mid X_t (\omega) \in A \} \in \mathcal{F}_t,
	\end{align*}
	por lo que $C_t \in \mathcal{F}_t$. Ya que la filtración es continua por la derecha y de la Proposición \ref{paroequivalente}, basta demostrar que $\{\tau_A < t\} = C_t$ para probar que $\tau_A$ es un tiempo de paro. \\
	
	Veamos que se cumplen las siguientes condiciones. Por un lado, si $\omega \in C_t$, de la definición misma de $C_t$ sabemos que existe $s \in \mathbb{Q}_{+}$ con $s < t$, tal que $X_s(\omega) \in A$. Por lo que, $\tau_A = \inf \{ t \geq 0 : X_t (\omega) \in A \} \leq s < t$, es decir, $\omega in \{\tau_A < t\}$. Por otro lado, si $\omega \in \{\tau_A < t\}$, entonces existe un tiempo $t_0 < t$ tal que $X_{t_0} (\omega) \in A$. 
	
	Como el proceso es continuo por la derecha y $A$ es abierto, existe $\epsilon > 0$ tal que
	\begin{align*}
	s \in \mathbb{Q}\cap [t_0, t_0 + \epsilon) \text{ y } X_s(\omega) \in A.
	\end{align*}
	De ambos argumentos, tenemos que 
	\begin{align*}
	\{ \tau_A < t \} = C_t \in \mathcal{F}_t.
	\end{align*}
	Lo que significa que, $\tau_A$ es un tiempo de paro respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$.
\end{proof}

\begin{definition}
	Sea $\tau$ un tiempo de paro con respecto a la filtración $(\mathcal{F}_t)_{t \geq 0}$. La $\sigma$-álgebra de eventos anteriores a $\tau$ está dada por 
	\begin{align*}
	\mathcal{F}_{\tau} = \left\{ A \in \mathcal{F}_{\infty} : \forall t \in \mathbb{R}_{+}, \ A \cap \{\tau \leq t\} \in \mathcal{F}_t \right\}.
	\end{align*}
\end{definition}
La prueba de que efectivamente, $\mathcal{F}_{\tau}$ es una $\sigma$-álgebra es análoga a la Proposición \ref{algebraaleatoria} del Capítulo 1. Veamos el siguiente resultado, relacionado a la $\sigma$-álgebra parada definida arriba.
\begin{proposition}
Considere las siguientes definiciones
\begin{align*}
	\mathcal{F}_{\tau^{+}} & = \left\{ A \in \mathcal{F}_{\infty} : \forall t \in \mathbb{R}_{+}, \ A \cap \{\tau < t\} \in \mathcal{F}_t \right\}, \\
	\mathcal{F}_{\tau^{-}} & = \sigma \left\{ A \cap \{\tau > t\} : t \geq 0, \ A \in \mathcal{F}_t \right\}.
\end{align*}
Entonces, 
\begin{enumerate}
	\item $\mathcal{F}_{\tau^{+}}$ es una $\sigma$-álgebra.
	\item $\mathcal{F}_{\tau^{-}} \subset \mathcal{F}_{\tau} \subset \mathcal{F}_{\tau^{+}}$.
	\item Si $(\mathcal{F}_t)_{t \geq 0}$ es continua por la derecha, entonces $\mathcal{F}_{\tau} = \mathcal{F}_{\tau^{+}}$.
	\item Si $\tau = t$, entonces $\mathcal{F}_{\tau} = \mathcal{F}_t$ y $\mathcal{F}_{\tau^{+}} = \mathcal{F}_{t^{+}}$.
\end{enumerate}
\end{proposition}

\section{Martingalas a tiempo continuo}
\section{Aplicaciones al Movimiento Browniano}